<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Williamson Van der Mark Electron Model Visualization</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0a0a0f; /* Match scene background color */
            color: #e0e0e0;
            overflow: hidden;
        }
        
        #container {
            position: relative;
            width: 100vw;
            height: 100vh;
        }
        
        #canvas-container {
            width: 100%;
            height: 100%;
            overflow: hidden; /* Ensure canvas doesn't create scrollbars */
        }
        
        
        #title {
            z-index: 10; /* Ensure title appears above canvas */
        }
        
        #controlsToggle {
            position: absolute;
            top: 20px;
            right: 60px;
            background: rgba(30, 30, 46, 0.9);
            padding: 10px 20px;
            border: 2px solid #89b4fa;
            border-radius: 10px;
            color: #89b4fa;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            z-index: 1000;
            transition: all 0.3s ease;
        }
        
        #controlsToggle:hover {
            background: rgba(49, 50, 68, 0.95);
            transform: scale(1.05);
        }
        
        #controls {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(30, 30, 46, 0.9);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            min-width: 280px;
            max-height: calc(100vh - 40px);
            overflow-y: auto;
            backdrop-filter: blur(10px);
            display: none; /* Hidden by default */
            z-index: 999;
        }
        
        #controls.visible {
            display: block;
        }
        
        #controls h2 {
            margin-bottom: 20px;
            color: #89b4fa;
            font-size: 1.2em;
            border-bottom: 2px solid #89b4fa;
            padding-bottom: 10px;
        }
        
        .control-group {
            margin-bottom: 12px;
        }
        
        .control-group label {
            display: block;
            margin-bottom: 8px;
            color: #cdd6f4;
            font-size: 0.9em;
        }
        
        .control-group input[type="range"] {
            width: 100%;
            margin-bottom: 5px;
        }
        
        .control-group .value-display {
            color: #89b4fa;
            font-weight: bold;
            font-size: 0.85em;
        }
        
        .control-group input[type="number"] {
            width: 100%;
            padding: 5px;
            background: rgba(49, 50, 68, 0.8);
            border: 1px solid #45475a;
            border-radius: 4px;
            color: #cdd6f4;
            font-size: 0.9em;
        }
        
        #title {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(30, 30, 46, 0.9);
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
        }
        
        #title h1 {
            font-size: 1.5em;
            color: #89b4fa;
            margin-bottom: 5px;
        }
        
        #title p {
            font-size: 0.85em;
            color: #a6adc8;
        }
        
        #legend {
            position: absolute;
            bottom: 260px;
            left: 20px;
            background: rgba(30, 30, 46, 0.9);
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
        }
        
        #legend h3 {
            margin-bottom: 10px;
            color: #89b4fa;
            font-size: 1em;
            border-bottom: 1px solid #89b4fa;
            padding-bottom: 5px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
            color: #cdd6f4;
            font-size: 0.9em;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        button {
            background: #89b4fa;
            color: #1e1e2e;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 10px;
            transition: background 0.3s;
        }
        
        button:hover {
            background: #74c7ec;
        }
        
        button:active {
            transform: scale(0.98);
        }
        
        input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: #89b4fa;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="title">
            <h1>Williamson Van der Mark Electron/Positron Model</h1>
            <p>Speculative WVdM Photon Motion on a Torus, and Lemniscate Extensions</p>
        </div>
        <div id="canvas-container"></div>
        <div id="legend">
            <h3 style="margin-bottom: 10px; color: #89b4fa; font-size: 1em; border-bottom: 1px solid #89b4fa; padding-bottom: 5px;">Field Vectors (in model units)</h3>
            <table style="width: 100%; border-collapse: collapse; margin-bottom: 10px;">
                <thead>
                    <tr style="border-bottom: 1px solid #45475a;">
                        <th style="padding: 8px; text-align: left; color: #cdd6f4; font-size: 0.85em; font-weight: bold;"></th>
                        <th style="padding: 8px; text-align: left; color: #cdd6f4; font-size: 0.85em; font-weight: bold;">Electric Field</th>
                        <th style="padding: 8px; text-align: left; color: #cdd6f4; font-size: 0.85em; font-weight: bold;">Magnetic Field</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="padding: 8px; color: #cdd6f4; font-size: 0.85em; font-weight: bold;">Instantaneous</td>
                        <td style="padding: 8px;">
                            <div id="instantElectricField" style="color: #00ff00; font-size: 0.85em;">|0.000|: (0.000, 0.000, 0.000)</div>
                        </td>
                        <td style="padding: 8px;">
                            <div id="instantMagneticField" style="color: #0088ff; font-size: 0.85em;">|0.000|: (0.000, 0.000, 0.000)</div>
                        </td>
                    </tr>
                    <tr>
                        <td style="padding: 8px; color: #cdd6f4; font-size: 0.85em; font-weight: bold;">Avg. Last Cycle</td>
                        <td style="padding: 8px;">
                            <div id="avgElectricField" style="color: #00ff00; font-size: 0.85em;">|0.000|: (0.000, 0.000, 0.000)</div>
                        </td>
                        <td style="padding: 8px;">
                            <div id="avgMagneticField" style="color: #0088ff; font-size: 0.85em;">|0.000|: (0.000, 0.000, 0.000)</div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <button id="resetFields" style="width: 100%; padding: 5px; background: rgba(49, 50, 68, 0.8); border: 1px solid #45475a; border-radius: 4px; color: #cdd6f4; font-size: 0.85em; cursor: pointer; margin-top: 10px;">Reset Fields</button>
        </div>
        
        <div id="momentumDisplay" style="position: absolute; bottom: 20px; left: 20px; background: rgba(30, 30, 46, 0.9); padding: 15px 20px; border-radius: 10px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5); backdrop-filter: blur(10px); min-width: 900px;">
            <h3 style="margin-bottom: 10px; color: #89b4fa; font-size: 1em; border-bottom: 1px solid #89b4fa; padding-bottom: 5px;">Momentum Vectors (in model units)</h3>
            <table style="width: 100%; border-collapse: collapse; margin-bottom: 10px;">
                <thead>
                    <tr style="border-bottom: 1px solid #45475a;">
                        <th style="padding: 8px; text-align: left; color: #cdd6f4; font-size: 0.85em; font-weight: bold;"></th>
                        <th style="padding: 8px; text-align: left; color: #cdd6f4; font-size: 0.85em; font-weight: bold;">Linear</th>
                        <th style="padding: 8px; text-align: left; color: #cdd6f4; font-size: 0.85em; font-weight: bold;">Toroidal Angular</th>
                        <th style="padding: 8px; text-align: left; color: #cdd6f4; font-size: 0.85em; font-weight: bold;">Poloidal Angular</th>
                        <th style="padding: 8px; text-align: left; color: #cdd6f4; font-size: 0.85em; font-weight: bold;">Total Angular</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="padding: 8px; color: #cdd6f4; font-size: 0.85em; font-weight: bold;">Instantaneous</td>
                        <td style="padding: 8px;">
                            <div id="instantLinearMomentum" style="color: #ffcc00; font-size: 0.85em;">|0.000|: (0.000, 0.000, 0.000)</div>
                        </td>
                        <td style="padding: 8px;">
                            <div id="instantToroidalAngularMomentum" style="color: #ff8800; font-size: 0.85em;">|0.000|: (0.000, 0.000, 0.000)</div>
                        </td>
                        <td style="padding: 8px;">
                            <div id="instantPoloidalAngularMomentum" style="color: #ff8800; font-size: 0.85em;">|0.000|: (0.000, 0.000, 0.000)</div>
                        </td>
                        <td style="padding: 8px;">
                            <div id="instantTotalAngularMomentum" style="color: #ff8800; font-size: 0.85em;">|0.000|: (0.000, 0.000, 0.000)</div>
                        </td>
                    </tr>
                    <tr>
                        <td style="padding: 8px; color: #cdd6f4; font-size: 0.85em; font-weight: bold;">Avg, Last Cycle</td>
                        <td style="padding: 8px;">
                            <div id="avgLinearMomentum" style="color: #ffcc00; font-size: 0.85em;">|0.000|: (0.000, 0.000, 0.000)</div>
                        </td>
                        <td style="padding: 8px;">
                            <div id="avgToroidalAngularMomentum" style="color: #ff8800; font-size: 0.85em;">|0.000|: (0.000, 0.000, 0.000)</div>
                        </td>
                        <td style="padding: 8px;">
                            <div id="avgPoloidalAngularMomentum" style="color: #ff8800; font-size: 0.85em;">|0.000|: (0.000, 0.000, 0.000)</div>
                        </td>
                        <td style="padding: 8px;">
                            <div id="avgTotalAngularMomentum" style="color: #ff8800; font-size: 0.85em;">|0.000|: (0.000, 0.000, 0.000)</div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <button id="resetMomentum" style="width: 100%; padding: 5px; background: rgba(49, 50, 68, 0.8); border: 1px solid #45475a; border-radius: 4px; color: #cdd6f4; font-size: 0.85em; cursor: pointer; margin-top: 10px;">Reset Momentum</button>
        </div>
        <button id="controlsToggle">☰ Controls</button>
        <div id="controls">
            <h2>Controls</h2>
            
            <div style="margin-bottom: 12px;">
                <button id="resetCamera">Reset Camera</button>
                <button id="clearTrack">Reset Track</button>
                <button id="pausePlay">Pause</button>
            </div>
            <div style="margin-bottom: 12px; display: flex; gap: 5px;">
                <button id="setFineStructure">Set r/R to fine structure constant</button>
                <button id="helpButton">Help</button>
            </div>
            
            <div class="control-group">
                <label>Path Mode</label>
                <select id="pathMode" style="width: 100%; padding: 5px; background: rgba(49, 50, 68, 0.8); border: 1px solid #45475a; border-radius: 4px; color: #cdd6f4; font-size: 0.9em;">
                    <option value="torus" selected>Torus (Donut), Original WVdM Model</option>
                    <option value="lemniscate-c">Viviani Lemniscate (Figure-8), 'C' Curve</option>
                    <option value="lemniscate-s">Viviani Lemniscate (Figure-8), 'S' Curve</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>Particle Type</label>
                <select id="particleType" style="width: 100%; padding: 5px; background: rgba(49, 50, 68, 0.8); border: 1px solid #45475a; border-radius: 4px; color: #cdd6f4; font-size: 0.9em;">
                    <option value="electron">Electron</option>
                    <option value="positron">Positron</option>
                </select>
            </div>
            
            <div class="control-group" id="windingRatioGroup">
                <label>Winding Ratio</label>
                <select id="windingRatio" style="width: 100%; padding: 5px; background: rgba(49, 50, 68, 0.8); border: 1px solid #45475a; border-radius: 4px; color: #cdd6f4; font-size: 0.9em;">
                    <option value="1:2" selected>1:2 (2π poloidal, 4π toroidal)</option>
                    <option value="2:1">2:1 (4π poloidal, 2π toroidal)</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>Spin Direction</label>
                <select id="spinDirection" style="width: 100%; padding: 5px; background: rgba(49, 50, 68, 0.8); border: 1px solid #45475a; border-radius: 4px; color: #cdd6f4; font-size: 0.9em;">
                    <option value="-1" selected>Spin Up</option>
                    <option value="1">Spin Down</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>Transparency (0 = solid, 1 = clear)</label>
                <input type="range" id="transparency" min="0" max="1" step="0.01" value="0.5">
                <span class="value-display" id="transparency-value">0.50</span>
            </div>
            
            <div class="control-group">
                <label>
                    <input type="checkbox" id="showWireframe" style="margin-right: 8px;">
                    Show Wireframe
                    <input type="checkbox" id="showAxes" style="margin-left: 15px; margin-right: 8px;">
                    Show Axes
                </label>
            </div>
            
            <div class="control-group">
                <label>
                    <input type="checkbox" id="showFieldAndMomentumVectors" style="margin-right: 8px;" checked>
                    Show Field and Momentum Vectors
                </label>
            </div>
            
            <div class="control-group">
                <label id="innerRadiusLabel">Inner Radius (relative)</label>
                <input type="range" id="innerRadius" min="-2" max="5" step="0.01" value="1.5">
                <span class="value-display" id="innerRadius-value">1.5</span>
            </div>
            
            <div class="control-group">
                <label id="outerRadiusLabel">Outer Radius (relative)</label>
                <input type="range" id="outerRadius" min="1" max="30" step="0.1" value="3">
                <span class="value-display" id="outerRadius-value">3.0</span>
            </div>
            
            <div class="control-group">
                <label>Photon Speed (Multiplier)</label>
                <input type="range" id="photonSpeed" min="0" max="1" step="0.01" value="0.5">
                <span class="value-display" id="photonSpeed-value">1.00</span>
            </div>
            
            <div class="control-group">
                <label>Track Length (toroidal rotations)</label>
                <input type="range" id="trailLength" min="0" max="1" step="0.01" value="0.5">
                <span class="value-display" id="trailLength-value">1.00</span>
            </div>
            
            <div class="control-group">
                <label>Precession (try values <= 0.5, i.e. 0.1; 0=None)</label>
                <input type="number" id="precession" step="0.001" value="0" style="width: 100%; padding: 5px; background: rgba(49, 50, 68, 0.8); border: 1px solid #45475a; border-radius: 4px; color: #cdd6f4; font-size: 0.9em;">
            </div>
            
            <div class="control-group">
                <label>Camera Distance (relative)</label>
                <input type="range" id="cameraDistance" min="1" max="60" step="0.1" value="12">
                <span class="value-display" id="cameraDistance-value">12.0</span>
            </div>
            
            <div class="control-group">
                <label>Camera Rotation X (radians)</label>
                <input type="range" id="cameraRotationX" min="-10" max="10" step="0.01" value="1.57">
                <span class="value-display" id="cameraRotationX-value">1.57</span>
            </div>
            
            <div class="control-group">
                <label>Camera Rotation Y (radians)</label>
                <input type="range" id="cameraRotationY" min="-10" max="10" step="0.01" value="1.57">
                <span class="value-display" id="cameraRotationY-value">1.57</span>
            </div>
        </div>
    </div>
    
    <!-- Help Modal -->
    <div id="helpModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.7); z-index: 1000; overflow-y: auto;">
        <div style="position: relative; max-width: 800px; margin: 50px auto; background: rgba(30, 30, 46, 0.95); padding: 30px; border-radius: 10px; box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5); color: #cdd6f4;">
            <button id="closeHelp" style="position: absolute; top: 15px; right: 15px; background: rgba(49, 50, 68, 0.8); border: 1px solid #45475a; border-radius: 4px; color: #cdd6f4; font-size: 1.2em; width: 30px; height: 30px; cursor: pointer; line-height: 1;">×</button>
            <h2 style="color: #89b4fa; margin-bottom: 20px; border-bottom: 2px solid #89b4fa; padding-bottom: 10px;">Williamson Van der Mark Electron/Positron Model - Help</h2>
            
            <div style="line-height: 1.6;">
                <h3 style="color: #a6adc8; margin-top: 20px; margin-bottom: 10px;">Overview</h3>
                <p>This visualization demonstrates the Williamson Van der Mark (WVdM) model, which describes electrons and positrons as photons moving along closed paths. The model supports three path geometries: the original WVdM torus (donut), and two extensions using lemniscate (figure-8) curves based on Viviani's curve. The model shows how a photon's trajectory can give rise to particle-like properties.</p>
                
                <h3 style="color: #a6adc8; margin-top: 20px; margin-bottom: 10px;">Controls</h3>
                <ul style="margin-left: 20px; margin-bottom: 15px;">
                    <li><strong>Reset Camera:</strong> Resets camera position, rotation, and screen translation to default values</li>
                    <li><strong>Reset Track:</strong> Clears the photon's track</li>
                    <li><strong>Pause:</strong> Pauses/resumes the animation</li>
                    <li><strong>Set r/R to fine structure constant</strong> / <strong>Set major and minor axes to 1:</strong> 
                        <ul style="margin-left: 20px; margin-top: 5px;">
                            <li><strong>Torus mode:</strong> Sets inner radius to 0.1, outer radius to 13.7, and camera distance to 60</li>
                            <li><strong>Lemniscate modes:</strong> Sets major and minor axes to 1.0, and camera distance to 4.0</li>
                        </ul>
                        Button text changes automatically based on selected path mode.</li>
                </ul>
                
                <h3 style="color: #a6adc8; margin-top: 20px; margin-bottom: 10px;">Parameters</h3>
                <ul style="margin-left: 20px; margin-bottom: 15px;">
                    <li><strong>Path Mode:</strong> Select between three path geometries:
                        <ul style="margin-left: 20px; margin-top: 5px;">
                            <li><strong>Torus (Donut):</strong> Original WVdM style helix on a torus surface</li>
                            <li><strong>Viviani Lemniscate 'C' curve:</strong> Single spheroid with figure-8 path, precessed in 3D with rotating E/M fields</li>
                            <li><strong>Viviani Lemniscate 'S' curve:</strong> Two side-by-side spheroids with alternating left/right tracks that meet at a touchpoint</li>
                        </ul>
                        Changing path mode clears the track.</li>
                    <li><strong>Particle Type:</strong> Select between Electron and Positron (affects electric field direction)</li>
                    <li><strong>Winding Ratio:</strong> (Torus mode only) Select between 1:2 (default) and 2:1 winding modes (different toroidal/poloidal path ratios). Changing winding ratio clears the track.</li>
                    <li><strong>Spin Direction:</strong> Select Spin Up or Spin Down. Controls poloidal chirality (the direction of motion around the minor circle/circular polarization). Does not affect toroidal motion direction (controlled by particle type) or electric field direction (controlled by particle type). Changing spin direction clears the track.</li>
                    <li><strong>Transparency:</strong> Controls the opacity of the torus/spheroids (0 = solid, 1 = invisible). Wireframe option available in torus mode only.</li>
                    <li><strong>Show Wireframe:</strong> Toggles the wireframe mesh visibility (torus mode only)</li>
                    <li><strong>Inner Radius (relative)</strong> / <strong>Minor Axis (relative):</strong> 
                        <ul style="margin-left: 20px; margin-top: 5px;">
                            <li><strong>Torus mode:</strong> Inner radius (can be 0 or negative for inverted shapes)</li>
                            <li><strong>Lemniscate modes:</strong> Minor axis (must be > 0, can be greater than major axis for oblate spheroids)</li>
                        </ul>
                        Label changes automatically based on selected path mode.</li>
                    <li><strong>Outer Radius (relative)</strong> / <strong>Major Axis (relative):</strong> 
                        <ul style="margin-left: 20px; margin-top: 5px;">
                            <li><strong>Torus mode:</strong> Outer radius</li>
                            <li><strong>Lemniscate modes:</strong> Major axis (can be less than minor axis for oblate spheroids)</li>
                        </ul>
                        Label changes automatically based on selected path mode.</li>
                    <li><strong>Photon Speed (Multiplier):</strong> Logarithmic scale from 0.1 (left) to 1.0 (middle) to 10.0 (right). Controls the animation rate for visualization purposes, not the actual speed of light.</li>
                    <li><strong>Trail Length (toroidal rotations):</strong> Length of the photon's trail in rotations (1 = one full track). Logarithmic scale from 0.1 to 100 (unlimited). With precession, set to (1/precession) to see the full repeating pattern (e.g., 10 for precession 0.1).</li>
                    <li><strong>Precession (try values <= 0.5, e.g. 0.1):</strong> Adds a spirograph-like precession effect:
                        <ul style="margin-left: 20px; margin-top: 5px;">
                            <li><strong>C curve:</strong> Rotating E/M fields create continuous spirograph patterns</li>
                            <li><strong>S curve:</strong> Both left and right loops rotate independently around Y-axis</li>
                            <li>Examples: p=0.5 → 2 interleaved loops (180° apart), p=0.25 → 4 loops (90° apart), p=0.125 → 8 loops (45° apart)</li>
                            <li>Pattern closes after total length L = 4π/p</li>
                        </ul>
                        Changing precession clears the track.</li>
                    <li><strong>Camera Distance (relative):</strong> Zoom in/out (1.0 to 60.0)</li>
                    <li><strong>Camera Rotation X/Y:</strong> Rotation angles for the camera perspective (-10 to 10 radians, default 1.57)</li>
                </ul>
                
                <h3 style="color: #a6adc8; margin-top: 20px; margin-bottom: 10px;">Visualization Elements</h3>
                <ul style="margin-left: 20px; margin-bottom: 15px;">
                    <li><strong>Red/Blue Photon:</strong> The photon particle (red when visible, blue when behind geometry in torus mode)</li>
                    <li><strong>Green Arrow:</strong> Electric field vector
                        <ul style="margin-left: 20px; margin-top: 5px;">
                            <li><strong>Torus/C curve:</strong> Points radially (inward for electrons, outward for positrons)</li>
                            <li><strong>S curve:</strong> Points inward toward the current spheroid's center (left or right)</li>
                        </ul>
                    </li>
                    <li><strong>Blue Arrow:</strong> Magnetic field vector (perpendicular to motion and electric field, forming a right-handed triad)</li>
                    <li><strong>Track:</strong> The photon's path
                        <ul style="margin-left: 20px; margin-top: 5px;">
                            <li><strong>Torus/C curve:</strong> Single continuous track</li>
                            <li><strong>S curve:</strong> Two alternating tracks (left visible when u ∈ [2π, 4π], right visible when u ∈ [0, 2π])</li>
                        </ul>
                        Displays a temperature-like color gradient: white (newest) → light yellow → yellow → bright red → red → dark red (oldest). The gradient spans one full cycle of the path. Gradient direction is determined by particle type (electron vs positron), not spin direction. Shown in brighter color when unobstructed, darker when behind geometry (torus mode).</li>
                </ul>
                
                <h3 style="color: #a6adc8; margin-top: 20px; margin-bottom: 10px;">Field and Momentum Displays</h3>
                <ul style="margin-left: 20px; margin-bottom: 15px;">
                    <li><strong>Field Vectors:</strong> Displays instantaneous and average (per cycle) electric and magnetic field vectors
                        <ul style="margin-left: 20px; margin-top: 5px;">
                            <li>Format: |magnitude|: (x, y, z)</li>
                            <li>Averages update only when a complete cycle finishes</li>
                            <li>Reset button clears accumulated values</li>
                        </ul>
                    </li>
                    <li><strong>Momentum Vectors:</strong> Displays instantaneous and average linear and angular momentum
                        <ul style="margin-left: 20px; margin-top: 5px;">
                            <li>Table format: Linear | Toroidal/Lemniscate Angular | Poloidal Angular | Total Angular</li>
                            <li>Two rows: Instantaneous | Avg. Last Cycle</li>
                            <li>All vectors displayed as |magnitude|: (x, y, z) format</li>
                            <li>Labels change dynamically: "Toroidal Angular" in torus mode, "Lemniscate Angular" in lemniscate modes</li>
                            <li>In model units (normalized by geometry size), not physical units</li>
                            <li>Averages update only when a complete cycle finishes</li>
                            <li>Reset button clears accumulated values</li>
                        </ul>
                    </li>
                </ul>
                
                <h3 style="color: #a6adc8; margin-top: 20px; margin-bottom: 10px;">Interaction</h3>
                <ul style="margin-left: 20px; margin-bottom: 15px;">
                    <li><strong>Left Button + Drag:</strong> Rotate the camera around the torus</li>
                    <li><strong>Right Button + Drag:</strong> Translate the view (pan) - moves the center point on screen without distortion</li>
                    <li><strong>Mouse Wheel:</strong> Zoom in/out</li>
                    <li>The visualization updates in real-time as you adjust parameters.</li>
                </ul>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
    <script src="visualization.js"></script>
</body>
</html>

